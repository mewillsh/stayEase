# ğŸ—ï¸ Day 2 â€“ Mongoose Schema + Sample Listing Test Route

---
![alt text](<Screenshot 2025-06-03 125613.png>)

## âœ… Summary of What I Did
- Created a **Mongoose schema** for `Listing`
- Exported the `Listing` model
- Added an Express **test route `/testListing`** to:
  - Create a sample listing object
  - Save it to MongoDB
  - Send a confirmation response

---

## ğŸ§  Code Explanation

### 1. ğŸ“¦ Mongoose Schema Setup (`models/listing.js`)
```js
const mongoose = require("mongoose");
const Schema = mongoose.Schema;
âœ… Define Schema Fields
js
Copy
Edit
const listingSchema = new Schema({
    title: {
        type: String,
        require: true,  // Required field
    },
    description: String,
    image: {
    filename: String,
    url: {
      type: String,
      default: "https://example.com/default-image.jpg",
      set: (v) => (v === "" ? "https://example.com/default-image.jpg" : v),
    },
  },
    price: Number,
    location: String,
    country: String,
});
ğŸ” Note: "require" should be "required" (fix it later for proper validation)

âœ… Compile Model
js
Copy
Edit
const Listing = mongoose.model("Listing", listingSchema);
module.exports = Listing;
2. ğŸŒ Test Route to Create Sample Listing (app.js)
js
Copy
Edit
const Listing = require("./models/listing.js");
âœ… Define Route
js
Copy
Edit
app.get("/testListing", async (req, res) => {
    let sampleListing = new Listing({
        title: "My new villa",
        description: "By the beach",
        price: 1200,
        location: "Calangute, Goa",
        country: "India"
    });

    await sampleListing.save();  // Save to MongoDB
    console.log("Sample was saved");  // Console confirmation
    res.send("Successful testing");    // Browser response
});
ğŸ” Replace the comma after await sampleListing.save() with a semicolon.

